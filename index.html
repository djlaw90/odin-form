<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odin Form</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="left-side-container">
            <div class="logo">
                <img src="./img/logoipsum.svg" alt="logo ipsum">
            </div>
            <footer>
                Photo by <a href="https://unsplash.com/@jeremythomasphoto?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Jeremy Thomas</a> on <a href="https://unsplash.com/photos/flat-lay-photography-of-purple-and-red-leaves-O6N9RV2rzX8?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
            </footer>
        </div>
        
        <div class="right-side-container">
            <header>
                <p>This is not a real online service! You know you need something like this in your
                life to help you realize your deepest dreams. Sign up <em>now</em> to get started.
                </p>
                <p>You <em>know</em> you want to.</p>
            </header>
            <main>
                <div class="form-container">
                    <form action="#" method="post">
                        <fieldset>
                            <legend>Let's do this!</legend>
                            <div class="form-inputs-container">
                                <div class="form-column">
                                    <div class="form-input-group">
                                        <label for="first-name">First Name*</label>
                                        <input type="text" id="first-name" name="first-name" placeholder="First name" required minlength="2" maxlength="45">
                                    </div>
                                    <div class="form-input-group">
                                        <label for="email">Email*</label>
                                        <input type="email" id="email" name="email" placeholder="example@website.com" required>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="password">Password*</label>
                                        <input type="password" id="password" name="password" onChange="onChange()" required>
                                    </div>
                                </div>
                                <div class="form-column">
                                    <div class="form-input-group">
                                        <label for="tel">Phone Number</label>
                                        <input type="tel" id="tel" name="tel" placeholder="###-###-####">
                                    </div>
                                    <div class="form-input-group">
                                        <label for="last-name">Last Name*</label>
                                        <input type="text" id="last-name" name="last-name" placeholder="Last name" required minlength="2" maxlength="45">
                                    </div>
                                    <div class="form-input-group">
                                        <label for="password">Confirm Password*</label>
                                        <input type="password" id="confirm-pw" name="confirm" onChange="onChange()" required>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <button type="submit">Create Account</button>
                    </form>
                </div>
                <p>Already have an account? <a href="#">Log in</a></p>
            </main>
            <footer>
                Copyright Dusty Lawless 2023
            </footer>
        </div>
    </div>
    <script>
            const phoneNumberInput = document.getElementById('tel');

            phoneNumberInput.addEventListener('input', function () {
                // Remove all non-digit characters (e.g., spaces, dashes, dots)
                const cleanedPhoneNumber = phoneNumberInput.value.replace(/\D/g, '');
                // Check if the cleaned phone number is either 10 digits in a row or in the pattern 333-333-4444
                if (cleanedPhoneNumber.length === 10 || cleanedPhoneNumber.match(/^\d{3}[\s.-]?\d{3}[\s.-]?\d{4}$/)) {
                    // The phone number is valid
                    phoneNumberInput.setCustomValidity('');
                    phoneNumberInput.style.border = "2px solid green";
                } else {
                    // The phone number is invalid
                    phoneNumberInput.setCustomValidity('Please enter a valid 10-digit phone number.');
                    phoneNumberInput.style.border = "2px solid red";
                }
            });

        function onChange() {
            const password = document.querySelector('input[name=password]');
            const confirm = document.querySelector('input[name=confirm]');
            if (confirm.value === password.value) {
                confirm.setCustomValidity('');
                password.style.border = "2px solid green";
                confirm.style.border = "2px solid green";
            } else {
                confirm.setCustomValidity('Passwords do not match');
                password.style.border = "2px solid red";
                confirm.style.border = "2px solid red";
            }
        }

    </script>
</body>
</html>